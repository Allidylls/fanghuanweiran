<!DOCTYPE html>
<html>
<head>
<title>Layer Switcher</title>
<meta charset="utf-8">
<script src="http://weapp.googlecode.com/svn/api/weapp.min.js"></script>

<style type="text/css">
body {
    font-size: smaller;
}
span:hover {
    text-decoration: underline;
    cursor: pointer;
}

</style>

<script>
WeApp.LayerSwitcher = top.Weiran.Class(WeApp, {
    // {OpenLayers.Control.LayerSwitcher}
    layerSwitcher: null,

    initialize: function (options) {
        WeApp.prototype.initialize.apply(this, arguments);
    },

    run: function () {
        WeApp.prototype.run.apply(this, arguments);
        
        // create LayerSwitcher control within the window
        this.layerSwitcher = new top.OpenLayers.Control.LayerSwitcher({
            div: document.getElementById('layerSwitcher'),
            roundedCorner: false
        });
        this.getMap().addControl(this.layerSwitcher);
    },
    
    destroy: function () {
        // destroy the LayerSwitcher control
        this.getMap().removeControl(this.layerSwitcher);
        this.layerSwitcher.destroy();
        this.layerSwitcher = null;
        
        WeApp.prototype.destroy.apply(this, arguments);
    },

    CLASS_NAME: "WeApp.LayerSwitcher"
});
</script>
</head>

<body>
<div id="layerSwitcher"></div>
<script>
    var app = new WeApp.LayerSwitcher();
    app.run();
</script>
</body>
</html>
