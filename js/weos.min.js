// Weiran Observing System Template
//---------------------------------
// Your system must be derived from class Weiran.OS
// All available resouces include:
// 1) require
// 2) jQuery, jQuery.md5, jQuery.cookies
// 3) OpenLayers
// 4) socket.io client
// 5) jwim window manager
// 6) Weiran observing system framework
// 7) Weiran embeded application framework
// 8) Weiran dynamic sensor feature framework
//-------------------------------------------------------------------------
Weiran.OS.WeOS=Weiran.Class(Weiran.OS,{layerWebcam:null,initialize:function(){Weiran.OS.prototype.initialize.apply(this,arguments)},boot:function(){Weiran.OS.prototype.boot.apply(this,arguments),this.addApps(),this.addLayers()},addApps:function(){this.getMainPanel().addApp(new Weiran.App({title:{en:"Layer Manager","zh-CN":"图层管理"},iconurl:"apps/layer/icon.png",windowurl:"apps/layer/index.html",windowframed:!0})),this.getMainPanel().addApp(new Weiran.App({title:{en:"LonLat Picker","zh-CN":"点取坐标"},iconurl:"apps/llpicker/icon.png",windowurl:"apps/llpicker/index.html",windowframed:!0})),this.getMainPanel().addApp(new Weiran.App({title:{en:"iWhere","zh-CN":"我在哪里"},iconurl:"apps/iwhere/icon.png",windowurl:"apps/iwhere/index.html",windowframed:!0})),this.getMainPanel().addApp(new Weiran.App({title:{en:"Measuring Tools","zh-CN":"测量工具"},iconurl:"apps/measure/icon.png",windowurl:"apps/measure/index.html",windowframed:!0}))},addLayers:function(){this.getMap().addLayers([new OpenLayers.Layer.WeWXRain,new OpenLayers.Layer.WeWXTemperature,new OpenLayers.Layer.WeWXWind,new OpenLayers.Layer.WeWXWaveHeight,new OpenLayers.Layer.WeWXCloudIR])},addWebcams:function(){this.layerWebcam=new OpenLayers.Layer.WeMarkers("Webcam"),this.getMap().addLayer(this.layerWebcam),this.layerWebcam.addMarker(new OpenLayers.WeSensor.WeWebcam({title:"Network Camera",lon:120.140775,lat:30.24105,webcamurl:"http://iozoonc5.city.miyazaki.miyazaki.jp/CgiStart?page=Single&Language=0"})),this.layerWebcam.addMarker(new OpenLayers.WeSensor.WeMMS({title:"ONEDIR Camera 1",lon:121.529596,lat:31.256995,mmsurl:"mms://www.onedir.com/Cam1"})),this.layerWebcam.addMarker(new OpenLayers.WeSensor.WeMMS({title:"ONEDIR Camera 2",lon:121.430719,lat:31.280472,mmsurl:"mms://www.onedir.com/Cam2"})),this.layerWebcam.addMarker(new OpenLayers.WeSensor.WeMMS({title:"ONEDIR Camera 3",lon:121.458184,lat:31.210026,mmsurl:"mms://www.onedir.com/Cam3"})),this.layerWebcam.addMarker(new OpenLayers.WeSensor.WeMMS({title:"ONEDIR Camera 4",lon:121.546075,lat:31.188882,mmsurl:"mms://www.onedir.com/Cam4"})),this.layerWebcam.addMarker(new OpenLayers.WeSensor.WeMMS({title:"Zhangjiajie",lon:109.911554,lat:29.257213,mmsurl:"mms://220.168.204.82:8081"})),this.layerWebcam.addMarker(new OpenLayers.WeSensor.WeMMS({title:"South Korea",lon:127.753351,lat:36.137472,mmsurl:"mms://222.113.53.4/nalsi"})),this.layerWebcam.addMarker(new OpenLayers.WeSensor.WeMMS({title:"East America",lon:-81.711982,lat:38.959021,mmsurl:"mms://209.73.191.223/nqsenc006_d"}))},exit:function(){Weiran.OS.prototype.exit.apply(this,arguments)},CLASS_NAME:"Weiran.OS.WeOS"});